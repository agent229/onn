This code is based on ai4r: http://ai4r.rubyforge.org/index.html
